<!DOCTYPE html>
<html lang="en">
    <%- include('partials/head') %>
    
    <body>
        <div class="container rounded mt-5 mb-5">
            <div class="row">
                <div class="col-md-4 border-right">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="font-weight-bold" ><%= user.userName %></h2>
                            <span> Game History</span>
                        </div>
                        <div class="forms">
                            <div class="inputs">
                                <span>Date</span>
                                <input
                                    type="text"
                                    id="inputDate"
                                    placeholder="yyyy-mm-dd"
                                    value=""
                                />
                            </div>
                            <div class="inputs">
                                <span>Play Time</span>
                                <input
                                    type="number"
                                    id="inputPlaytime"
                                    placeholder="(minutes)"
                                    value=""
                                />
                            </div>
                            <div class="inputs">
                                <span>Points</span>
                                <input
                                    type="number"
                                    id="inputPoints"
                                    placeholder="input points"
                                    value=""
                                />
                            </div>
                            <button
                                id="savebutton"
                                class="btn btn-primary profile-button"
                                type="button"
                                onclick="addGameHistory(<%= user.id %>)"
                            >
                                Add History  <i class="fa-solid fa-circle-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-md-7 border-right">
                    <table
                        class="table table-striped table-hover table-borderless table-responsive card-1 p-4"
                    >
                        <thead>
                            <tr class="border-bottom text-center">
                                <th>
                                    <span class="ml-2">#</span>
                                </th>
                                <th>
                                    <span class="ml-2">Date</span>
                                </th>
                                <th>
                                    <span class="ml-2">Play Time</span>
                                </th>
                                <th>
                                    <span class="ml-4">Points</span>
                                </th>
                                <th>
                                    <span class="ml-4">Action</span>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <% for (let i = 0; i<gameHistory.length; i++) { %>
                            <tr class="border-bottom text-center">
                                <td>
                                    <div class="p-2">
                                        <span class="font-weight-bold"><%= i %></span>
                                    </div>
                                </td>
                                <td>
                                    <div class="p-2">
                                        <span class="font-weight-bold"
                                            ><%= gameHistory[i].date %></span
                                        >
                                    </div>
                                </td>
                                <td>
                                    <div class="p-2">
                                        <span class="font-weight-bold"
                                            ><%= gameHistory[i].playTime %></span
                                        >
                                    </div>
                                </td>
                                <td>
                                    <div class="p-2">
                                        <span class="font-weight-bold"
                                            ><%= gameHistory[i].exp%></span
                                        >
                                    </div>
                                </td>
                                <td>
                                    <div class="p-2 icons">
                                        <i onclick="deleteHandler(<%= gameHistory[i].id %>)"
                                            class="fa fa-trash text-danger"
                                        ></i>
                                    </div>
                                </td>
                            </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <%- include('partials/script') %>    
    </body>
</html>
